<div class="container mt-4">
  <h2>üõ°Ô∏è Create Your Pok√©mon Team</h2>

  <!-- Team Name Input -->
  <div class="team-name mt-3">
    <input type="text" [(ngModel)]="teamName" placeholder="Enter team name" class="form-control" />
  </div>

  <!-- Select Pok√©mon -->
  <div class="pokemon-selection mt-3">
    <h4>Select Pok√©mon (max 6)</h4>
    <div class="pokemons-list">
      <div
        *ngFor="let p of pokemons"
        class="pokemon-card"
        [class.selected]="selectedPokemons.includes(p)"
        (click)="addPokemon(p)"
      >
        <img [src]="p.image" alt="{{ p.name }}" />
        <div class="pokemon-name">{{ p.name }}</div>
        <div class="pokemon-type">{{ p.type }}</div>
        <div class="pokemon-power">{{ p.power }}</div>
      </div>
    </div>
  </div>

  <!-- Selected Pok√©mon (under input, only image + name) -->
  <div class="selected-pokemons mt-3" *ngIf="selectedPokemons.length">
    <h5>Selected Pok√©mon</h5>
    <div class="selected-list">
      <div *ngFor="let p of selectedPokemons" class="selected-card">
        <img [src]="p.image" alt="{{ p.name }}" />
        <div class="pokemon-name">{{ p.name }}</div>
      </div>
    </div>
  </div>

  <!-- Save Team Button -->
  <div class="mt-3">
    <button class="btn btn-primary" (click)="saveTeam()">Save Team</button>
  </div>

  <hr />

  <!-- List of Saved Teams -->
  <div class="teams-list mt-3" *ngIf="teams.length">
    <h4>Saved Teams</h4>
    <div *ngFor="let team of teams" class="team-card">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ team.name }}</strong> (Total Power: {{ getTeamPower(team) }})
        </div>
        <button class="btn btn-danger btn-sm" (click)="deleteTeam(team.id)">Delete</button>
      </div>
      <div class="team-pokemons mt-2 d-flex gap-2 flex-wrap">
        <div *ngFor="let p of team.pokemons" class="text-center">
          <img [src]="p.image" width="50" />
          <div>{{ p.name }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
